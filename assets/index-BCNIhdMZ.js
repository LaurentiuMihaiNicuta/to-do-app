(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(t){if(t.ep)return;t.ep=!0;const i=e(t);fetch(t.href,i)}})();function s(n,o=" ",e=" ",r={}){const t=document.createElement(n);o&&(t.className=o),e&&(t.textContent=e);for(const i in r)t.setAttribute(i,r[i]);return t}function L(){let n=0;return{getCounter:()=>n,resetCounter:()=>n=0,addToCounter:()=>n++}}function f(n,...o){for(const e of o)n.appendChild(e)}function T(n,o,e=!1){return{getName:()=>n,getPriority:()=>o,getStatus:()=>e,changeStatus:()=>{e=!e},getDetails:()=>({text:n,priority:o,status:e})}}function F(){const n=s("div","main-content",""),o=s("div","main-content-top",""),e=s("div","main-content-bottom","");return f(n,o,e),{mainContent:n,mainContentBottom:e,mainContentTop:o}}function h(n,o,e,r=!1){o.innerHTML="";let t=n.getTaskList();t=t.sort((i,c)=>{const a={low:1,medium:2,high:3};return r?a[c.getPriority()]-a[i.getPriority()]:a[i.getPriority()]-a[c.getPriority()]}),t.forEach((i,c)=>{const a=s("div","task-container",""),d=s("p","",i.getName()),l=s("button","","X"),u=i.getPriority();u==="low"?a.style.border="2px solid green":u==="medium"?a.style.border="2px solid orange":u==="high"&&(a.style.border="2px solid red"),a.appendChild(d),a.appendChild(l),o.appendChild(a),l.addEventListener("click",function(){t.splice(c,1),h(n,o,e,r),y(e)})})}function w(n,o,e,r){o.innerHTML="";const t=n.getName(),i=L();let c=!1;const a=s("div","",t),d=s("div","",""),l=s("button","","Filter Tasks"),u=s("button","","Add new Task");f(o,a,d),f(d,l,u),l.addEventListener("click",function(){c=!c,h(n,e,r,c)}),u.addEventListener("click",function(){if(i.getCounter()===0){i.addToCounter();const p=s("div","",""),m=s("form","",""),g=s("input","","",{placeholder:"Task Name"}),v=s("select","","",{name:"priorityField"}),C=s("option","","Low",{value:"low"}),k=s("option","","Medium",{value:"medium"}),N=s("option","","High",{value:"high"});f(v,C,k,N);const E=s("button","","Add Task",{type:"submit"});f(m,g,v,E),p.appendChild(m),e.insertBefore(p,e.firstChild),m.addEventListener("submit",function(S){O(S,g,v,n,e,r),i.resetCounter()})}})}function O(n,o,e,r,t,i){n.preventDefault();const c=o.value,a=e.value;if(!c){alert("Task name is required!");return}const d=T(c,a,!0);r.addTask(d),h(r,t,i),y(i),o.value="",e.value="low"}function P(n,o){const e=[];return{getName:()=>n,getTaskList:()=>e,getFavorite:()=>o,addTask:r=>{e.push(r)}}}function M(n,o){const e=x(),r=L(),t=s("div","side-bar",""),i=s("div","side-bar-top",""),c=s("div","side-bar-bottom","");f(t,i,c);const a=s("h1","","Projects:"),d=s("button","","New Project");return f(i,a,d),d.addEventListener("click",function(){if(r.getCounter()===0){r.addToCounter();const l=s("div","",""),u=s("form","",""),p=s("input","","",{type:"text",name:"nameField"}),m=s("button","","Add",{type:"submit"}),g=s("input","","",{type:"checkbox",name:"favoriteField"});f(u,p,g,m),l.appendChild(u),c.insertBefore(l,c.firstChild),u.addEventListener("submit",function(v){B(v,p,g,r,e,c,n,o)})}}),b(e,c,n,o),t}function B(n,o,e,r,t,i,c,a){n.preventDefault();const d=o.value,l=e.checked;if(d){const u=P(d,l);t.push(u),y(t),b(t,i,c,a)}r.resetCounter()}function b(n,o,e,r){o.innerHTML="",n.forEach((t,i)=>{const c=s("div","",""),a=s("h1","",t.getName()),d=s("button","","X");t.getFavorite()&&(c.style.border="2px solid red"),f(c,a,d),o.appendChild(c),a.addEventListener("click",function(){h(t,e,n),w(t,r,e,n)}),d.addEventListener("click",function(){r.innerHTML="",e.innerHTML="",n.splice(i,1),y(n),b(n,o,e,r)})})}function y(n){const o=JSON.stringify(n.map(e=>({name:e.getName(),favorite:e.getFavorite(),tasks:e.getTaskList().map(r=>({name:r.getName(),priority:r.getPriority(),status:r.getStatus()}))})));localStorage.setItem("projects",o)}function x(){const n=localStorage.getItem("projects");return n?JSON.parse(n).map(e=>{const r=P(e.name,e.favorite);return e.tasks.forEach(t=>{r.addTask(T(t.name,t.priority,t.status))}),r}):[]}function A(){const n=document.getElementById("app");n.className="app-container";const{mainContent:o,mainContentBottom:e,mainContentTop:r}=F(),t=M(e,r);n.appendChild(t),n.appendChild(o),console.log("Ui created")}A();
